# Checkout

![](../../.gitbook/assets/checkout_SANP (1).png)

* The user that starts the payment from Checkout must enter the notice number and the identifier of the recipient creditor;
* The [paVerifyPaymentNotice](../../appendices/primitive.md#paverifypaymentnotice) is used to request the creditor to verify the payment option identified by the notice number;
* The request to activate the payment reaches the creditor by means of [paGetPayment](../../appendices/primitive.md#pagetpayment);
* once the effective payment transactions are concluded by the user, the note sends the details to the PSP via the [pspNotifyPayment](../../appendices/primitive.md#pspnotifypayment), in the case of a NOK response by the PSP, the process is interrupted and the payment must be canceled;
* in the case of technical exceptions during the call to [pspNotifyPayment vers. 2](../../appendices/primitive.md#pspnotifypayment) which prevents receiving a response, the Node would wait for the first of the following events to occur:
  * expiration of the payment token: the process is interrupted and the payment must be canceled;
  * reception of the [sendPaymentOutcome vers. 2](../../appendices/primitive.md#sendpaymentoutcome-versione-1): the flow proceeds normally, always keeping in mind that the PSP cannot send an outcome = NOK;
* if the PSP sends a [sendPaymentOutcome](../../appendices/primitive.md#sendpaymentoutcome) after responding with NOK to the [pspNotifyPayment](../../appendices/primitive.md#pspnotifypayment), the node would respond with NOK to signal the discordant outcome;
* if accepting the [pspNotifyPayment](../../appendices/primitive.md#pspnotifypayment) the PSP is required to provide the outcome of the payment **within 2sec** with the [sendPaymentOutcome](../../appendices/primitive.md#sendpaymentoutcome), if the PSP sends an outcome = NOK, the node would respond with a NOK to signal the discordant outcome;
* By means of the primitive [paSendRT](../../appendices/primitive.md#pasendrt), the _receipt_ is sent to the _n_ creditors involved with the payment only if the payment was made, the _receipt_ is an object generated by the pagoPA platform;
* When the creditor receives the _receipt_, they must close the debt position and consider it fully paid.

To manage the errors, refer to [Error management](https://app.gitbook.com/o/KXYtsf32WSKm6ga638R3/s/mU2qgiLV1G3m9z1VjAOc/ "mention").

To be able to use the _metadata_ in a correct and standardized manner, a [metadata dictionary](https://app.gitbook.com/o/KXYtsf32WSKm6ga638R3/s/u6YdY319vyFX9MIvnKBa/ "mention") has been prepared that contains a section dedicated to information about the payment channel present in _additionalPaymentInformations_ of [pspNotifyPayment](../../appendices/primitive.md#pspnotifypayment).