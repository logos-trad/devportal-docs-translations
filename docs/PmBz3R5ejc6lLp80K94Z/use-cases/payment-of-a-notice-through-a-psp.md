# Payment of a notice through a PSP

With this process, the payment of a notice previously issued by a creditor is made using the infrastructures provided by the PSP such as banks and ATMs, post offices and Punto Poste locations (postal lockers and pick-up points) bars, newsstands, betting offices, supermarkets, tobacco shops and other participating merchants.

The current payment workflow through the PSPs requires managing the requests from the PSPs, if possible within the platform, related to the following:

* availability and latency of the creditors, providing additional services if necessary;
* availability of the essential information to proceed with collection;
* possibility of simultaneous payments.

<figure><img src="../.gitbook/assets/Diagramma OK.png" alt=""><figcaption></figcaption></figure>

* The [verifyPaymentNotice](../appendices/primitive.md#verifypaymentnotice) is an **OPTIONAL** service that does not change the status of the amount that is due, which can be used by the PSPs that start the payment using the QR code located on the analog notice or by manually entering the data;
* The [verificaBollettino](../appendices/primitive.md#verificabollettino) is an **OPTIONAL** service that does not change the status of the amount that is due, which can be used exclusively by the Poste Italiane that start the payment using the Data Matrix located on the analog notice, and not the QR Code;
* The [paVerifyPaymentNotice](../appendices/primitive.md#paverifypaymentnotice) is used to request the creditor to verify the payment option identified by the notice number;
* the [verifyPaymentOptions](../appendices/primitive.md#verifypaymentoptions) is an **OPTIONAL** service that does not change the status of the debt position, usable by the PSP, starting the payment with the QR code located on the analog notice or with the manual issue of data and that provides the creditors (EC) with a function for exposing the payment options, such as installment plans, increases or reductions in the amount;
* The service [paVerifyPaymentOptions](../appendices/primitive.md#paverifypaymentoptions) is used to request the creditor to provide the available payment options. For this purpose, a flag was added to the station configuration to determine if the service can return the payment options. If the creditor manages these options ("new Verify" flag set to TRUE), the options will be returned to the citizen via the touchpoint of the PSP from which the request was sent.
* With [activatePaymentNotice](../appendices/primitive.md#activatepaymentnotice) the PSP requests the node to activate the payment at the creditor, this phase is mandatory for the PSPs;
* The request to activate the payment reaches the creditor by means of [paGetPayment](../appendices/primitive.md#pagetpayment);
* The PSP is OBLIGATED to provide the payment result in real time with the [sendPaymentOutcome](../appendices/primitive.md#sendpaymentoutcome), therefore as soon as the end user has paid or confirmed on the PSP touchpoint, and in any case before the expiration of the token, both in case of a successful payment (outcome = OK), as well as in case of an unsuccessful payment (outcome = KO);
* By means of the primitive [paSendRT](../appendices/primitive.md#pasendrt), the _receipt_ is sent to the _n_ creditors involved with the payment only if the payment was made, the _receipt_ is an object generated by the pagoPA platform;
* When the creditor receives the _receipt_, they must close the debt position and consider it fully paid.

To manage the errors, refer to [Error management](https://app.gitbook.com/o/KXYtsf32WSKm6ga638R3/s/mU2qgiLV1G3m9z1VjAOc/ "mention").